<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tattoo Concept Generator V3</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        slate: {
                            850: '#1e293b',
                            900: '#0f172a',
                            950: '#020617',
                        },
                        gold: {
                            500: '#eab308',
                            600: '#ca8a04',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #0f172a;
            color: #e2e8f0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #1e293b; 
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #475569; 
            border-radius: 4px;
        }
        .glass-panel {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        /* Custom Range Slider Styling */
        input[type=range] {
            -webkit-appearance: none; 
            background: transparent; 
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 20px;
            width: 20px;
            border-radius: 50%;
            background: #eab308;
            cursor: pointer;
            margin-top: -8px; 
            box-shadow: 0 0 10px rgba(234, 179, 8, 0.5);
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            cursor: pointer;
            background: #475569;
            border-radius: 2px;
        }
        .tab-active {
            border-bottom: 2px solid #eab308;
            color: #eab308;
        }
        .tab-inactive {
            border-bottom: 2px solid transparent;
            color: #64748b;
        }
        .tab-inactive:hover {
            color: #94a3b8;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center py-10 px-4">

    <!-- Main Container -->
    <main class="w-full max-w-5xl glass-panel rounded-2xl shadow-2xl p-6 md:p-8">
        
        <!-- Header -->
        <header class="text-center mb-8 border-b border-slate-700 pb-6">
            <h1 class="text-4xl md:text-5xl font-bold text-white tracking-tight mb-2">
                <i class="fa-solid fa-pen-nib text-gold-500 mr-3"></i>Ink<span class="text-gold-500">Prompt</span>
            </h1>
            <p class="text-slate-400 text-sm md:text-base">Generatore & Restyling Tatuaggi AI (Nano Banana/SDXL)</p>
        </header>

        <!-- Tabs -->
        <div class="flex mb-8 space-x-6 justify-center">
            <button onclick="switchTab('new')" id="tab-new" class="tab-active text-lg font-bold pb-2 uppercase tracking-wide transition-colors">
                <i class="fa-solid fa-plus-circle mr-2"></i>Nuovo Concept
            </button>
            <button onclick="switchTab('fix')" id="tab-fix" class="tab-inactive text-lg font-bold pb-2 uppercase tracking-wide transition-colors">
                <i class="fa-solid fa-bandage mr-2"></i>Cover-Up / Modifica
            </button>
        </div>

        <!-- Content Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            
            <!-- LEFT COLUMN: INPUTS -->
            <div class="space-y-5">
                
                <!-- SECTION: NEW DESIGN (Hidden via JS if not active) -->
                <div id="section-new" class="space-y-5">
                    <div>
                        <label class="block text-gold-500 text-sm font-bold mb-2 uppercase tracking-wider">1. Descrivi il Soggetto</label>
                        <textarea id="subjectInput" rows="3" 
                            class="w-full bg-slate-800 border border-slate-600 rounded-lg p-4 text-white placeholder-slate-500 focus:outline-none focus:border-gold-500 transition shadow-inner"
                            placeholder="Es: Un lupo che ulula alla luna geometrica..."></textarea>
                    </div>
                </div>

                <!-- SECTION: FIX/COVER-UP (Hidden by default) -->
                <div id="section-fix" class="hidden space-y-5">
                    
                    <!-- Image Upload -->
                    <div class="border-2 border-dashed border-slate-600 rounded-lg p-6 text-center hover:bg-slate-800/50 transition cursor-pointer relative" onclick="document.getElementById('fileInput').click()">
                        <input type="file" id="fileInput" class="hidden" accept="image/*" onchange="previewImage(event)">
                        <div id="uploadPlaceholder">
                            <i class="fa-solid fa-camera text-3xl text-slate-500 mb-2"></i>
                            <p class="text-slate-400 text-sm">Clicca per caricare la foto del tatuaggio attuale</p>
                        </div>
                        <img id="imagePreview" class="hidden max-h-40 mx-auto rounded shadow-lg object-contain" />
                        <button id="removeImageBtn" onclick="removeImage(event)" class="hidden absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600">
                            <i class="fa-solid fa-times text-xs"></i>
                        </button>
                    </div>

                    <!-- Fix Type -->
                    <div>
                        <label class="block text-gold-500 text-sm font-bold mb-2 uppercase tracking-wider">Tipo di Intervento</label>
                        <div class="relative">
                            <select id="fixTypeSelect" class="w-full bg-slate-800 border border-slate-600 rounded-lg p-4 appearance-none text-white focus:outline-none focus:border-gold-500 transition cursor-pointer">
                                <option value="coverup">Cover Up (Copertura Totale)</option>
                                <option value="rework">Rework / Restauro (Migliora esistente)</option>
                                <option value="add">Espansione (Aggiungi elementi intorno)</option>
                                <option value="color">Colorize (Aggiungi colore a B&W)</option>
                            </select>
                            <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gold-500">
                                <i class="fa-solid fa-chevron-down"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Fix Description -->
                    <div>
                        <label class="block text-gold-500 text-sm font-bold mb-2 uppercase tracking-wider">Obiettivo / Modifica</label>
                        <textarea id="fixInput" rows="2" 
                            class="w-full bg-slate-800 border border-slate-600 rounded-lg p-4 text-white placeholder-slate-500 focus:outline-none focus:border-gold-500 transition shadow-inner"
                            placeholder="Es: Copri la scritta con una rosa, rendi le linee più nitide..."></textarea>
                    </div>
                </div>

                <!-- SHARED CONTROLS (Style, Context, Slider) -->
                <div class="space-y-5 border-t border-slate-700 pt-5">
                    
                    <!-- Style Select -->
                    <div>
                        <label class="block text-gold-500 text-sm font-bold mb-2 uppercase tracking-wider">Stile Desiderato</label>
                        <div class="relative">
                            <select id="styleSelect" class="w-full bg-slate-800 border border-slate-600 rounded-lg p-4 appearance-none text-white focus:outline-none focus:border-gold-500 transition cursor-pointer">
                                <option value="" disabled selected>Seleziona uno stile...</option>
                                <!-- Options populated via JS -->
                            </select>
                            <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gold-500">
                                <i class="fa-solid fa-chevron-down"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Context & Gender Grid -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <!-- Context Select -->
                        <div>
                            <label class="block text-gold-500 text-sm font-bold mb-2 uppercase tracking-wider">Posizione / Contesto</label>
                            <div class="relative">
                                <select id="contextSelect" class="w-full bg-slate-800 border border-slate-600 rounded-lg p-4 appearance-none text-white focus:outline-none focus:border-gold-500 transition cursor-pointer">
                                    <option value="" disabled selected>Dove si trova?</option>
                                    <!-- Options populated via JS -->
                                </select>
                                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gold-500">
                                    <i class="fa-solid fa-chevron-down"></i>
                                </div>
                            </div>
                        </div>

                        <!-- Gender Select -->
                        <div>
                            <label class="block text-slate-400 text-sm font-bold mb-2 uppercase tracking-wider">Anatomia</label>
                            <div class="relative">
                                <select id="genderSelect" class="w-full bg-slate-800 border border-slate-600 rounded-lg p-4 appearance-none text-white focus:outline-none focus:border-gold-500 transition cursor-pointer">
                                    <option value="man">Uomo</option>
                                    <option value="woman">Donna</option>
                                    <option value="neutral">Neutro</option>
                                </select>
                                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-slate-400">
                                    <i class="fa-solid fa-user"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Eccentricity Slider -->
                    <div class="bg-slate-800/50 p-4 rounded-lg border border-slate-700">
                        <div class="flex justify-between items-end mb-2">
                            <label class="block text-gold-500 text-sm font-bold uppercase tracking-wider">Creatività / Variazione AI</label>
                            <span id="sliderValue" class="text-xs text-gold-500 font-mono">Bilanciato (50%)</span>
                        </div>
                        <input type="range" id="eccentricitySlider" min="0" max="100" value="50" class="w-full h-2 bg-slate-600 rounded-lg appearance-none cursor-pointer">
                        <div class="flex justify-between text-xs text-slate-400 mt-2 font-mono">
                            <span>Fedele/Restauro</span>
                            <span>Eccentrico/BlastOver</span>
                        </div>
                    </div>

                    <!-- Generate Button -->
                    <button onclick="generatePrompt()" 
                        class="w-full bg-gradient-to-r from-gold-600 to-yellow-500 hover:from-yellow-400 hover:to-yellow-300 text-slate-900 font-bold py-4 px-6 rounded-lg shadow-lg transform transition hover:-translate-y-1 active:translate-y-0">
                        <i class="fa-solid fa-wand-magic-sparkles mr-2"></i> Genera Prompt
                    </button>
                </div>
            </div>

            <!-- RIGHT COLUMN: OUTPUT -->
            <div class="flex flex-col h-full bg-slate-950 rounded-xl border border-slate-800 overflow-hidden relative min-h-[400px]">
                <div class="bg-slate-900 px-4 py-3 border-b border-slate-800 flex justify-between items-center">
                    <span class="text-xs font-mono text-slate-400 uppercase">Output Prompt (Ready for Nano Banana)</span>
                    <span class="text-xs text-green-500 hidden opacity-0 transition-opacity duration-300" id="copySuccess"><i class="fa-solid fa-check"></i> Copiato!</span>
                </div>
                
                <textarea id="outputPrompt" readonly 
                    class="flex-grow w-full bg-transparent p-6 text-slate-300 font-mono text-sm resize-none focus:outline-none custom-scrollbar leading-relaxed"
                    placeholder="Il tuo prompt apparirà qui..."></textarea>
                
                <div class="p-4 bg-slate-900 border-t border-slate-800 space-y-2">
                     <p class="text-xs text-slate-500 mb-2 italic" id="uploadHint" style="display:none;">
                        <i class="fa-solid fa-info-circle"></i> Usa questo prompt nella funzione "Image-to-Image" caricando la tua foto.
                    </p>
                    <button onclick="copyToClipboard()" 
                        class="w-full bg-slate-800 hover:bg-slate-700 text-white font-semibold py-3 px-4 rounded border border-slate-600 transition flex justify-center items-center group">
                        <i class="fa-regular fa-copy mr-2 group-hover:scale-110 transition"></i> Copia prompt
                    </button>
                </div>
            </div>
        </div>

        <div class="mt-8 text-center text-slate-500 text-xs">
            <p>Ottimizzato per modelli Stable Diffusion XL, Midjourney v6 e Nano Banana.</p>
        </div>
    </main>

    <script>
        // --- STATE ---
        let currentMode = 'new'; // 'new' or 'fix'

        // --- DATASETS ---
        const styles = [
            "Traditional Old School (Bold lines, limited palette)",
            "Neo-Traditional (Bold lines, vibrant colors, depth)",
            "Realism Black & Grey (Photorealistic, shading)",
            "Realism Color (Photorealistic, vibrant)",
            "Watercolor (Paint splashes, no outlines, soft)",
            "Tribal (Solid black, curved lines)",
            "Polynesian / Maori (Cultural patterns, intricate)",
            "Irezumi (Traditional Japanese, wind bars, waves)",
            "Blackwork (Heavy black fill, negative space)",
            "Dotwork / Pointillism (Created entirely of dots)",
            "Geometric (Sacred geometry, shapes, lines)",
            "Minimalist / Fine Line (Single needle, simple)",
            "Single Line (Continuous line drawing)",
            "Script / Lettering / Calligraphy",
            "Chicano (Black & grey, smooth shading, street culture)",
            "Biomechanical (Gears, robotics under skin)",
            "Bio-Organic (Alien textures, bones, nature)",
            "Trash Polka (Red & Black, chaotic, collage-like)",
            "Surrealism (Dreamlike, melting, bizarre)",
            "Abstract (Non-representational, artistic flow)",
            "Sketch Style (Pencil lines, rough, construction lines)",
            "Woodcut / Etching / Engraving (Linework shading)",
            "Gothic / Dark Art (Macabre, skulls, dark atmosphere)",
            "Celtic (Knots, crosses, intricate loops)",
            "Viking / Norse (Runes, mythology, raw)",
            "Mandala (Circular, symmetrical, spiritual)",
            "Henna / Mehndi Style (Ornamental, floral patterns)",
            "3D Effect (Shadows creating depth on skin)",
            "Optical Illusion (Visual tricks)",
            "Glitch Art (Digital distortion, pixelated)",
            "Cyberpunk (Neon, futuristic, tech)",
            "Steampunk (Victorian tech, brass, steam)",
            "Anime / Manga Style (Cel shaded, bold)",
            "New School (Cartoonish, exaggerated, bright)",
            "Graffiti / Street Art (Spray paint effect)",
            "Horror (Gore, spooky, monsters)",
            "Portraiture (Faces, realistic rendering)",
            "Botanical Illustration (Scientific plant accuracy)",
            "Floral (Softer, flowy flowers)",
            "X-Ray Effect (Transparency, skeletal)",
            "Patchwork (Look like sewn patches)",
            "Stained Glass (Bold outlines, segmented colors)",
            "Negative Space (Skin forms the image)",
            "White Ink (Subtle, scar-like)",
            "Ignorant Style (Naive, crude, simple lines)",
            "Blast Over (Covering old tattoos, layered)",
            "Micro Realism (Tiny, highly detailed)",
            "Stipple Shading (Whip shading technique)",
            "Pixel Art (8-bit, retro gaming)",
            "Embroidery Effect (Looks like stitched thread)",
            "Oil Painting (Brush strokes, textured)"
        ];

        const contexts = [
            { val: "design_white", label: "Design: Foglio Bianco (Clean Flash)", type: "flat" },
            { val: "design_parchment", label: "Design: Carta Pergamena Vintage", type: "flat" },
            { val: "design_stencil", label: "Design: Stencil (Linee Guida)", type: "flat" },
            { val: "design_digital", label: "Design: Illustrazione Digitale (iPad)", type: "flat" },
            { val: "design_synthetic", label: "Design: Pelle Sintetica (Mockup)", type: "flat" },
            { val: "body_forearm_inner", label: "Corpo: Avambraccio Interno", type: "body" },
            { val: "body_forearm_outer", label: "Corpo: Avambraccio Esterno", type: "body" },
            { val: "body_bicep_inner", label: "Corpo: Bicipite Interno", type: "body" },
            { val: "body_bicep_outer", label: "Corpo: Bicipite Esterno / Spalla", type: "body" },
            { val: "body_sleeve_full", label: "Corpo: Manica Intera (Full Sleeve)", type: "body" },
            { val: "body_sleeve_half", label: "Corpo: Mezza Manica", type: "body" },
            { val: "body_chest_center", label: "Corpo: Sterno / Centro Petto", type: "body" },
            { val: "body_chest_pec", label: "Corpo: Pettorale (Singolo)", type: "body" },
            { val: "body_chest_full", label: "Corpo: Petto Intero (Chest Piece)", type: "body" },
            { val: "body_ribs", label: "Corpo: Costole / Fianco Alto", type: "body" },
            { val: "body_stomach", label: "Corpo: Ventre / Addome", type: "body" },
            { val: "body_hip", label: "Corpo: Fianco Basso / Anca", type: "body" },
            { val: "body_back_upper", label: "Corpo: Schiena Alta / Scapola", type: "body" },
            { val: "body_back_lower", label: "Corpo: Fondoschiena / Lombare", type: "body" },
            { val: "body_back_full", label: "Corpo: Schiena Intera (Backpiece)", type: "body" },
            { val: "body_spine", label: "Corpo: Colonna Vertebrale", type: "body" },
            { val: "body_thigh_front", label: "Corpo: Coscia Anteriore", type: "body" },
            { val: "body_thigh_side", label: "Corpo: Coscia Laterale", type: "body" },
            { val: "body_thigh_back", label: "Corpo: Retro Coscia", type: "body" },
            { val: "body_knee", label: "Corpo: Ginocchio", type: "body" },
            { val: "body_shin", label: "Corpo: Stinco", type: "body" },
            { val: "body_calf", label: "Corpo: Polpaccio", type: "body" },
            { val: "body_ankle", label: "Corpo: Caviglia", type: "body" },
            { val: "body_foot_top", label: "Corpo: Collo del Piede", type: "body" },
            { val: "body_neck_side", label: "Corpo: Collo (Lato)", type: "body" },
            { val: "body_neck_back", label: "Corpo: Nuca", type: "body" },
            { val: "body_throat", label: "Corpo: Gola", type: "body" },
            { val: "body_behind_ear", label: "Corpo: Dietro l'Orecchio", type: "body" },
            { val: "body_hand_back", label: "Corpo: Dorso della Mano", type: "body" },
            { val: "body_palm", label: "Corpo: Palmo della Mano", type: "body" },
            { val: "body_fingers", label: "Corpo: Dita / Knuckles", type: "body" },
            { val: "body_wrist", label: "Corpo: Polso", type: "body" },
            { val: "body_face", label: "Corpo: Viso", type: "body" },
            { val: "body_head_side", label: "Corpo: Testa (Lato)", type: "body" }
        ];

        // --- INITIALIZATION ---
        window.onload = function() {
            const styleSel = document.getElementById('styleSelect');
            const contextSel = document.getElementById('contextSelect');

            styles.forEach(style => {
                const opt = document.createElement('option');
                opt.value = style;
                opt.textContent = style;
                styleSel.appendChild(opt);
            });

            contexts.forEach(ctx => {
                const opt = document.createElement('option');
                opt.value = JSON.stringify(ctx); 
                opt.textContent = ctx.label;
                contextSel.appendChild(opt);
            });

            // Slider Logic
            const slider = document.getElementById('eccentricitySlider');
            const sliderVal = document.getElementById('sliderValue');
            slider.oninput = function() {
                let text = "Bilanciato";
                if(this.value < 30) text = "Fedele / Preciso";
                if(this.value > 70) text = "Eccentrico / Visionario";
                sliderVal.textContent = `${text} (${this.value}%)`;
            }
        };

        // --- TAB LOGIC ---
        function switchTab(mode) {
            currentMode = mode;
            const tabNew = document.getElementById('tab-new');
            const tabFix = document.getElementById('tab-fix');
            const secNew = document.getElementById('section-new');
            const secFix = document.getElementById('section-fix');
            const hint = document.getElementById('uploadHint');

            if (mode === 'new') {
                tabNew.className = "tab-active text-lg font-bold pb-2 uppercase tracking-wide transition-colors";
                tabFix.className = "tab-inactive text-lg font-bold pb-2 uppercase tracking-wide transition-colors";
                secNew.classList.remove('hidden');
                secFix.classList.add('hidden');
                hint.style.display = 'none';
            } else {
                tabFix.className = "tab-active text-lg font-bold pb-2 uppercase tracking-wide transition-colors";
                tabNew.className = "tab-inactive text-lg font-bold pb-2 uppercase tracking-wide transition-colors";
                secFix.classList.remove('hidden');
                secNew.classList.add('hidden');
                hint.style.display = 'block';
            }
        }

        // --- IMAGE HANDLING ---
        function previewImage(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = document.getElementById('imagePreview');
                    const placeholder = document.getElementById('uploadPlaceholder');
                    const btn = document.getElementById('removeImageBtn');
                    
                    img.src = e.target.result;
                    img.classList.remove('hidden');
                    placeholder.classList.add('hidden');
                    btn.classList.remove('hidden');
                }
                reader.readAsDataURL(file);
            }
        }

        function removeImage(event) {
            event.stopPropagation();
            document.getElementById('fileInput').value = "";
            document.getElementById('imagePreview').classList.add('hidden');
            document.getElementById('imagePreview').src = "";
            document.getElementById('uploadPlaceholder').classList.remove('hidden');
            document.getElementById('removeImageBtn').classList.add('hidden');
        }

        // --- PROMPT GENERATION ---
        function generatePrompt() {
            const style = document.getElementById('styleSelect').value;
            const contextRaw = document.getElementById('contextSelect').value;
            const gender = document.getElementById('genderSelect').value;
            const eccentricity = document.getElementById('eccentricitySlider').value;

            if (!style || !contextRaw) {
                alert("Seleziona Stile e Contesto.");
                return;
            }

            const contextObj = JSON.parse(contextRaw);
            let prompt = "";
            
            // Context String Logic
            let contextString = "";
            if (contextObj.type === "body") {
                let genderTerm = gender === "man" ? "male" : (gender === "woman" ? "female" : "person");
                contextString = `on ${genderTerm} ${translateBodyPart(contextObj.val)}`;
            } else {
                contextString = contextObj.val.includes("white") ? "clean white background" : "neutral background";
            }

            // Creativity Logic
            let creativityKeywords = "";
            if (eccentricity < 30) creativityKeywords = "minimal changes, precise lines, exact adherence";
            else if (eccentricity > 70) creativityKeywords = "avant-garde, heavy artistic interpretation, visionary style, complex details";
            else creativityKeywords = "balanced artistic interpretation";

            // -- MODE SPECIFIC LOGIC --
            if (currentMode === 'new') {
                const subject = document.getElementById('subjectInput').value.trim();
                if (!subject) { alert("Descrivi il soggetto."); return; }
                
                prompt = `${style} tattoo design of ${subject}, ${contextString}. ${creativityKeywords}, Masterpiece, 8k resolution, sharp focus, high contrast, professional tattoo portfolio.`;
            
            } else {
                // COVER-UP / FIX MODE
                const fixType = document.getElementById('fixTypeSelect').value;
                const fixDesc = document.getElementById('fixInput').value.trim();
                
                if (!fixDesc) { alert("Descrivi la modifica o il restyling."); return; }

                let actionKeyword = "";
                let technique = "";

                if (fixType === 'coverup') {
                    actionKeyword = "Cover-up tattoo transformation";
                    technique = "heavy shading, blast over style, solid ink saturation to hide previous tattoo, clever placement";
                } else if (fixType === 'rework') {
                    actionKeyword = "Tattoo restoration and rework";
                    technique = "sharpening lines, color vibrancy restoration, touch up, refreshing old ink, high definition";
                } else if (fixType === 'add') {
                    actionKeyword = "Tattoo expansion and addition";
                    technique = "seamless integration with existing ink, extending pattern, flow consistency";
                } else if (fixType === 'color') {
                    actionKeyword = "Colorizing black and grey tattoo";
                    technique = "vibrant color packing, watercolor splashes, gradient shading";
                }

                prompt = `[Image-to-Image] ${actionKeyword}: ${fixDesc}. Transform into ${style} style. ${technique}. Location: ${contextString}. ${creativityKeywords}, 8k resolution, professional tattoo photography.`;
            }

            document.getElementById('outputPrompt').value = prompt;
        }

        // --- UTILS ---
        function translateBodyPart(val) {
            const map = {
                "body_forearm_inner": "inner forearm", "body_forearm_outer": "outer forearm",
                "body_bicep_inner": "inner bicep", "body_bicep_outer": "shoulder/bicep",
                "body_sleeve_full": "full arm sleeve", "body_sleeve_half": "half arm sleeve",
                "body_chest_center": "sternum", "body_chest_pec": "pec", "body_chest_full": "full chest",
                "body_ribs": "ribs", "body_stomach": "stomach", "body_hip": "hip",
                "body_back_upper": "upper back", "body_back_lower": "lower back", "body_back_full": "full back",
                "body_spine": "spine", "body_thigh_front": "front thigh", "body_thigh_side": "side thigh",
                "body_thigh_back": "back thigh", "body_calf": "calf", "body_ankle": "ankle",
                "body_neck_side": "neck", "body_hand_back": "hand", "body_wrist": "wrist"
            };
            return map[val] || "skin";
        }

        function copyToClipboard() {
            const copyText = document.getElementById("outputPrompt");
            copyText.select();
            copyText.setSelectionRange(0, 99999); 
            
            try {
                const successful = document.execCommand('copy');
                if(successful) {
                    const badge = document.getElementById('copySuccess');
                    badge.classList.remove('hidden');
                    badge.classList.remove('opacity-0');
                    setTimeout(() => {
                        badge.classList.add('opacity-0');
                        setTimeout(() => badge.classList.add('hidden'), 300);
                    }, 2000);
                } else {
                    alert("Premi Ctrl+C per copiare.");
                }
            } catch (err) {
                alert("Errore copia.");
            }
        }
    </script>
</body>
</html>

